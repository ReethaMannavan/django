{% extends 'base.html' %}
{% block title %}Saved Jobs{% endblock %}

{% block content %}
<div class="page-container">
    <h2>Saved Jobs</h2>

    {% if saved_jobs %}
        <div class="grid">
            {% for saved in saved_jobs %}
                {% with job=saved.job %}
                <div class="card">
                    <div style="display:flex; justify-content: space-between; align-items:center;">
                        <h3>{{ job.title }}</h3>
                        {% if job.posted_at|timesince < "3 days" %}
                        <span style="background:#10b981; color:white; padding:2px 8px; border-radius:4px; font-size:12px;">NEW</span>
                        {% endif %}
                    </div>

                    <p><strong>Company:</strong> {{ job.company }}</p>
                    <p><strong>Location:</strong> {{ job.location }}</p>
                    <p><strong>Experience:</strong> {{ job.experience }}</p>
                    <p><strong>Type:</strong>
                        <span style="padding:2px 6px; background:#2563eb; color:white; border-radius:4px; font-size:12px;">
                            {{ job.get_job_type_display }}
                        </span>
                    </p>

                    <div style="display:flex; justify-content: space-between; margin-top:15px; flex-wrap:wrap; gap:10px;">
                        <a href="{% url 'job-detail' job.pk %}">View Details</a>
                        <a href="{% url 'unsave-job' job.pk %}" style="background:#f59e0b;">Unsave</a>
                    </div>
                </div>
                {% endwith %}
            {% endfor %}
        </div>
    {% else %}
        <p>You have not saved any jobs yet.</p>
    {% endif %}
</div>

<style>
.grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
}
.card {
    padding: 20px;
    border-radius: 10px;
    border: 1px solid #e5e7eb;
    transition: 0.2s;
}
.card:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 15px rgba(30,58,138,0.2);
}
.card h3 {
    color: #1e3a8a;
    margin-top: 0;
}
.card a {
    display: inline-block;
    margin-top: 10px;
    background: #2563eb;
    color: #fff;
    padding: 8px 16px;
    border-radius: 6px;
    text-decoration: none;
}
.card a:hover {
    background: #1e40af;
}
</style>
{% endblock %}
